{"author":"CohenCyril","number":501,"diff_summary":[{"file":"CHANGELOG_UNRELEASED.md","status":"M","additions":303,"deletions":350},{"file":"mathcomp/algebra/finalg.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/algebra/intdiv.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/algebra/matrix.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/algebra/mxpoly.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/algebra/ssrnum.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/character/character.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/character/classfun.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/character/inertia.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/character/integral_char.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/character/mxabelem.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/character/mxrepresentation.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/field/algebraics_fundamentals.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/field/algnum.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/field/falgebra.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/field/finfield.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/field/galois.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/field/separable.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/fingroup/action.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/fingroup/automorphism.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/fingroup/fingroup.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/fingroup/gproduct.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/fingroup/morphism.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/fingroup/perm.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/abelian.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/alt.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/burnside_app.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/center.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/cyclic.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/extraspecial.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/extremal.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/finmodule.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/frobenius.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/gseries.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/jordanholder.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/maximal.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/primitive_action.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/solvable/sylow.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/bigop.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/binomial.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/eqtype.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/finfun.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/fingraph.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/finset.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/fintype.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/path.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/seq.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/ssrbool.v","status":"M","additions":303,"deletions":350},{"file":"mathcomp/ssreflect/ssreflect.v","status":"M","additions":303,"deletions":350}],"state":"merged","open_date":"2020-05-08T22:20:23Z","update_date":"2021-07-07T09:19:25Z","discussion":[{"author":"gares","date":"2020-05-09T07:12:54Z","comment":"doc is incomplete, the RHS is always the same"},{"author":"chdoc","date":"2020-05-09T09:25:00Z","comment":"I'm a bit skeptical as it comes to the chosen syntax. Is `/[ ... ]` currently a valid intro pattern? If it is not, why not use:\r\n\r\n- `=> /[rules]` : perform `rewrite rules` (where `rules` may include `!`, `?`, and  `-` as usual?)\r\n\r\nAlso, what's the expected behavior if there is a lemma or local assumption called `apply`, `dup`, or `swap`. Can one still use them as views?"},{"author":"CohenCyril","date":"2020-05-09T19:45:33Z","comment":"@gares\r\n> doc is incomplete, the RHS is always the same\r\n\r\nI do not understand. What do you want to add to the doc?\r\n\r\n\r\n@chdoc for now I will send you [here](https://github.com/math-comp/math-comp/pull/372#issuecomment-513786319), and on monday we could talk.\r\n"},{"author":"gares","date":"2020-05-09T20:48:42Z","comment":"In the top post you say \"foo does bar\" but bar is always the same. It is clear what you mean, I was just warning to not copy that doc as is "},{"author":"CohenCyril","date":"2020-05-09T21:52:32Z","comment":"> In the top post you say \"foo does bar\" but bar is always the same. It is clear what you mean, I was just warning to not copy that doc as is\r\n\r\nAh sh** I updated the commit but forgot the PR OP..."},{"author":"soraros","date":"2020-05-11T00:36:58Z","comment":"Maybe /apply etc. should be capitalized since they have predefined magical meaning?"},{"author":"gares","date":"2020-05-11T07:54:47Z","comment":"I think such a change should be discussed at a meeting. I'm supportive but the notation design can only benefit from multiple scrutiny. For example the `/[1rule]` thing with no space and no `!` is kind of odd.\r\n\r\nI'd like to see a few tests added to the test suite (and later backported to Coq), for example to test the rewrite notation with inlined multi-rules."},{"author":"CohenCyril","date":"2020-05-11T12:10:32Z","comment":"> For example the `/[1rule]` thing with no space and no `!` is kind of odd.\r\n\r\nI agree we could have `/[1!rule]` instead, it would indeed look nicer!\r\n(moreover, the largest use is `!rule`, and just sometimes, it needs to be done only once...)"},{"author":"chdoc","date":"2021-06-03T09:20:37Z","comment":"After a cursory look, I'm not entirely convinced that replacing every occurrence of `; rewrite inE` with `=> /[1!inE]` is really that big an improvement, in particular when replacing `by apply: foo; rewrite inE` with `by apply: foo => /[1!inE]` (found some instances in `action.v`, but there are probably many others). IMHO, the `/[!inE]` pattern should mainly be used if it becomes part of another into pattern (or when necessary to stay within the 80 characters limit). \r\n\r\n@CohenCyril , what's your opinion or rationale for this?"},{"author":"CohenCyril","date":"2021-07-06T15:39:48Z","comment":"@chdoc finally updated :)"},{"author":"gares","date":"2021-07-07T09:18:44Z","comment":"OK, I'm merging this one.\r\nI wonder if the notation could be improved further to allow for `[!inE, other, ..]` since the `()` serve really little purpose (syntactically). But that would be for another PR."}],"review_discussion":[{"author":"gares","file":"mathcomp/algebra/intdiv.v","date":"2021-05-19T08:32:32Z","comment":"maybe a space after /rowP ?"},{"author":"CohenCyril","file":"mathcomp/algebra/intdiv.v","date":"2021-05-19T08:37:42Z","comment":"why?"},{"author":"gares","file":"mathcomp/algebra/intdiv.v","date":"2021-05-19T14:51:03Z","comment":"because `/v1/v2/../vn` has a meaning,  all views are applied and typechecked together, while `/(_ i)` an `/[!mxE]` are separate steps. I'd write\r\n```coq\r\nby have /eqP/rowP /(_ i) /[!mxE] -> := Zv; rewrite mulr1.\r\n```\r\nand eat the spaces only if they help being < 80"},{"author":"gares","file":"mathcomp/algebra/intdiv.v","date":"2021-05-19T14:52:05Z","comment":"Anyway, not really important..."}],"tags":[{"tag":"kind: enhancement","description":"Issue or PR about addition of features."},{"tag":"drops: coq 8.9","description":"Addressing this issue or merging this PR requires to drop support for coq 8.9"}],"commits":[{"author":"CohenCyril","committer":"CohenCyril","hash":"052448e1524a46648d6947a25661641cede8d6c2","message":"Intro pattern extensions for rewrite","date":"2021-07-06T15:38:00Z"}]}