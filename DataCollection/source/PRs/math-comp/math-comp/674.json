{"author":"CohenCyril","number":674,"diff_summary":[{"file":"CHANGELOG_UNRELEASED.md","status":"A","additions":58,"deletions":66},{"file":"mathcomp/Makefile.test-suite.coq.local","status":"A","additions":58,"deletions":66},{"file":"mathcomp/algebra/ssrint.v","status":"A","additions":58,"deletions":66},{"file":"mathcomp/ssreflect/eqtype.v","status":"A","additions":58,"deletions":66},{"file":"mathcomp/ssreflect/finset.v","status":"A","additions":58,"deletions":66},{"file":"mathcomp/ssreflect/fintype.v","status":"A","additions":58,"deletions":66},{"file":"mathcomp/test_suite/imset2_finset.v","status":"A","additions":58,"deletions":66},{"file":"mathcomp/test_suite/imset2_finset.v.out","status":"A","additions":58,"deletions":66},{"file":"mathcomp/test_suite/imset2_gproduct.v","status":"A","additions":58,"deletions":66},{"file":"mathcomp/test_suite/imset2_gproduct.v.out","status":"A","additions":58,"deletions":66}],"state":"merged","open_date":"2020-11-24T22:33:52Z","update_date":"2020-11-26T08:41:23Z","discussion":[{"author":"CohenCyril","date":"2020-11-24T22:36:28Z","comment":"@gares, how do I enable checking the output of the `Check` in files `mathcomp/test_suite/imset2_finset.v` and `mathcomp/test_suite/imset2_gproduct.v` vs `mathcomp/test_suite/imset2_finset.v.out` and `mathcomp/test_suite/imset2_gproduct.v.out`?"},{"author":"CohenCyril","date":"2020-11-25T10:02:20Z","comment":"@gares this looks like a regression in coq dev..."},{"author":"CohenCyril","date":"2020-11-25T10:10:46Z","comment":"@erikmd what is the difference between coq-dev and coq-latest?"},{"author":"gares","date":"2020-11-25T10:30:07Z","comment":"@erikmd it would be nice to have a job testing v8.13 (the branch).\r\nI did merge many notation related PRs, so regressions may have happened there."},{"author":"CohenCyril","date":"2020-11-25T11:33:42Z","comment":"@gares indeed! broken in 8.12 and fixed in dev!!! good news!!"},{"author":"CohenCyril","date":"2020-11-25T11:34:49Z","comment":"Should I make a special `coq.8.12` test file that is deliberatly broken, to make the CI pass? or should we keep it broken until it is solved on Coq side?"},{"author":"CohenCyril","date":"2020-11-25T11:45:38Z","comment":"Meanwhile, I will replace the output test here not to make use of `{pred T}`, since it was not the point here, open a PR to test `{pred T}` specifically. Is it possible to do so on coq side too?\r\n\r\nFor archiving purposes, the problem was the following difference of output.\r\n- `-` was expected and is the outcome in Coq 8.10, Coq 8.11 and Coq dev (at the time of this message),\r\n- the outcome in Coq 8.12 is `+`\r\n```diff\r\n imset2Sr\r\n-     : forall (aT aT2 rT : finType) (f2 : aT -> aT2 -> rT) \r\n-         (A B : {pred aT2}) (C : {pred aT}),\r\n+     : forall (aT aT2 rT : finType) (f2 : aT -> aT2 -> rT)\r\n+         (A B : predPredType aT2) (C : predPredType aT),\r\n        A \\subset B ->\r\n        [set f2 x y | x in C, y in A] \\subset [set f2 x y | x in C, y in B]\r\n```\r\n(cf [this CI build](https://gitlab.com/math-comp/math-comp/-/jobs/871480999))"},{"author":"CohenCyril","date":"2020-11-25T13:21:25Z","comment":"@gares ready to merge if you want"},{"author":"CohenCyril","date":"2020-11-25T18:19:17Z","comment":"@gares this is the last missing piece for releasing tomorrow."}],"review_discussion":[{"author":"CohenCyril","file":"CHANGELOG_UNRELEASED.md","date":"2020-11-26T01:07:56Z","comment":"@gares this changelog entry is in the wrong section, but please disregard, I will curate it (cf. #677)"}],"tags":[{"tag":"kind: fix","description":"PR that fixes a bug. Please refer to the appropriate issue(s) if relevant."},{"tag":"kind: clean-up","description":"This issure/PR is about cleaning up obsolete code, removing hacks, etc"}],"commits":[{"author":"CohenCyril","committer":"CohenCyril","hash":"9c693eedb8e7e11aeaedbd3ce79a9478b10be7c8","message":"Using `only printing` and fixing coercion in notations","date":"2020-11-25T18:26:22Z"}]}