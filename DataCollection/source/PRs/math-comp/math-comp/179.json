{"author":"jashug","number":179,"diff_summary":[{"file":"mathcomp/algebra/finalg.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/intdiv.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/interval.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/matrix.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/mxalgebra.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/mxpoly.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/poly.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/rat.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/ssralg.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/ssrint.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/ssrnum.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/vector.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/algebra/zmodp.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/character/character.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/character/classfun.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/character/inertia.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/character/mxrepresentation.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/character/vcharacter.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/field/algebraics_fundamentals.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/field/countalg.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/field/falgebra.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/field/fieldext.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/field/galois.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/field/separable.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/fingroup/action.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/fingroup/automorphism.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/fingroup/fingroup.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/fingroup/gproduct.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/fingroup/morphism.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/fingroup/perm.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/fingroup/quotient.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/odd_order/BGsection12.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/odd_order/BGsection7.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/odd_order/PFsection3.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/odd_order/PFsection4.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/odd_order/PFsection5.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/real_closed/mxtens.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/real_closed/ordered_qelim.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/real_closed/qe_rcf.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/real_closed/realalg.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/abelian.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/burnside_app.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/center.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/commutator.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/cyclic.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/frobenius.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/gseries.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/maximal.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/pgroup.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/solvable/primitive_action.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/bigop.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/choice.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/div.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/eqtype.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/finfun.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/fingraph.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/finset.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/fintype.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/generic_quotient.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/path.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/prime.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/seq.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/ssrnat.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssreflect/tuple.v","status":"M","additions":693,"deletions":694},{"file":"mathcomp/ssrtest/elim2.v","status":"M","additions":693,"deletions":694}],"state":"merged","open_date":"2018-02-22T10:45:23Z","update_date":"2018-03-03T09:30:34Z","discussion":[{"author":"jashug","date":"2018-02-22T18:17:07Z","comment":"Something went wrong on v8.5 on Travis: https://travis-ci.org/math-comp/math-comp/jobs/344736906\r\n"},{"author":"jashug","date":"2018-02-22T21:01:03Z","comment":"The issue on v8.5 appears to be that, in that version, trailing arguments need to be included, so for a function like `Definition foo x y := t`, `Arguments foo [x]` works in 8.6- but fails in 8.5, where you need to write `Arguments foo [x] y`. I'll go through and add the trailing arguments."},{"author":"maximedenes","date":"2018-02-22T21:03:18Z","comment":"I would suggest you wait a bit before doing that. There are many incompatibilities related to `Arguments` between 8.5 and 8.6, and mathcomp developers may want to reconsider 8.5 support now what 8.8 is being released. At least, it's worth discussing."},{"author":"gares","date":"2018-02-23T10:14:03Z","comment":"Many thanks for the patch!\r\n\r\nI too agree with @maximedenes that v8.5 support is not a major concern. We already support 8.6 and 8.7, so the \"rule of the two versions\" is respected IMO.\r\n\r\nI'll give another spin for 8.6 that did timeout."},{"author":"gares","date":"2018-02-23T10:19:13Z","comment":"> I saw a lot of times when a reflect was proven, and immediately followed by an Arguments command setting all arguments implicit (which became maximal since there are no arguments to follow). It would be possible to achieve the same effect using {x} binders in the statement of the lemma.\r\n\r\nI'm not against it, but please not in this PR.\r\n\r\nActually, I don't know why `{ binder : type }` is not used in this library. Maybe it is just because it is a recent addition. @ggonthier do you recall any issue with this Coq feature?"},{"author":"ggonthier","date":"2018-02-23T10:39:21Z","comment":"Indeed, `{arg}` was too recent a feature to be used when most of the library was written. I'm somewhat reluctant to rely on it for the `reflectP`-style lemmas, because of the risk of inconsistencies: it often happens that some of the arguments to reflection lemmas are section arguments, in which case they need to be made explicitly implicit (sic) after the section. As this may change during refactoring, I think it is sound practice to always have an `Arguments` declaration for each reflection lemma. Similarly I feel an `Arguments` declaration should serve as documentation of the parameters of a constant: there should only be one such declaration in the source code, and it should list explicitly all the parameters and not merely amend the original definition."},{"author":"jashug","date":"2018-02-23T11:05:31Z","comment":"I have no intention of changing the content of this PR now that Travis is happy with 8.6.\r\n\r\nHaving the Arguments declaration act as documentation makes sense to me. My comment was really a side note, after seeing the pattern (what felt like) ~50 times, I just had to mention it.\r\n\r\nIn the spirit of acting as documentation though, when `foo` takes exactly 3 arguments, `Arguments foo [x y z].` would perhaps be better as `Arguments foo {x y z}.`, since implicits at the end automatically get promoted to maximal. That way it is clear that `foo` means `@foo _ _ _` not `@foo`, which is what `[x y z]` would normally suggest to me.\r\n(The same comment applies to the old style `Implicit Arguments foo [x y z].` vs. `Implicit Arguments foo [[x] [y] [z]].` I preserved whichever was used in this PR.)"},{"author":"ggonthier","date":"2018-02-23T11:34:16Z","comment":"An implicit declaration on a non-dependent argument is actually treated as a maximal implicit declaration, and this behaviour actually predates the implementation of maximal implicits. This was how mathcomp got around the Coq dev's initial reluctance to support maximal implicits. We just continued using the coding pattern even after maximal implicits were introduced (partly, I'll admit, because I found the `[[x] [y]]`syntax a bit clunky)."},{"author":"gares","date":"2018-03-03T09:30:05Z","comment":"I've disables travis on 8.5, I guess we are good to go"}],"review_discussion":[],"tags":[],"commits":[{"author":"jashug","committer":"jashug","hash":"19f9b3e774db1dedca149675f022d65cdeab7e6c","message":"Change Implicit Arguments to Arguments in ssreflect","date":"2018-02-22T06:41:00Z"},{"author":"jashug","committer":"jashug","hash":"181e9e94e04f45e0deb231246e1783c48be4f99d","message":"Change Implicit Arguments to Arguments in fingroup","date":"2018-02-22T07:07:25Z"},{"author":"jashug","committer":"jashug","hash":"64ceb784611e5ded0c715835a36490de1c3bb1ca","message":"Change Implicit Arguments to Arguments in algebra","date":"2018-02-22T07:27:04Z"},{"author":"jashug","committer":"jashug","hash":"cef1a8eadcdef812ce9ee2738cb294644fafbfab","message":"Change Implicit Arguments to Arguments in solvable","date":"2018-02-22T07:43:44Z"},{"author":"jashug","committer":"jashug","hash":"40d53fc61a7907c7f08bf37b9ab045ef4a5a1fe9","message":"Change Implicit Arguments to Arguments in field","date":"2018-02-22T07:48:01Z"},{"author":"jashug","committer":"jashug","hash":"66c7010194f5946cc4f07edc55f92129d0963b99","message":"Change Implicit Arguments to Arguments in character","date":"2018-02-22T08:48:18Z"},{"author":"jashug","committer":"jashug","hash":"ddc1cc6857821220b9a67af0af042282200dbf44","message":"Change Implicit Arguments to Arguments in real_closed","date":"2018-02-22T09:45:41Z"},{"author":"jashug","committer":"jashug","hash":"fe058c3300cf2385f1079fa906cbd13cd2349286","message":"Change Implicit Arguments to Arguments in odd_order","date":"2018-02-22T09:57:03Z"}]}