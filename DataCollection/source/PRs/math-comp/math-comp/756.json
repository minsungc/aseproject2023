{"author":"proux01","number":756,"diff_summary":[{"file":"CHANGELOG_UNRELEASED.md","status":"M","additions":123,"deletions":20},{"file":"mathcomp/algebra/matrix.v","status":"M","additions":123,"deletions":20},{"file":"mathcomp/algebra/mxpoly.v","status":"M","additions":123,"deletions":20},{"file":"mathcomp/algebra/poly.v","status":"M","additions":123,"deletions":20},{"file":"mathcomp/algebra/polydiv.v","status":"M","additions":123,"deletions":20},{"file":"mathcomp/algebra/ssralg.v","status":"M","additions":123,"deletions":20}],"state":"merged","open_date":"2021-06-17T15:55:13Z","update_date":"2021-10-25T10:32:28Z","discussion":[{"author":"proux01","date":"2021-10-21T15:41:51Z","comment":"@CohenCyril thanks for the careful review, everything should be taken into account now."},{"author":"proux01","date":"2021-10-22T07:41:20Z","comment":"Oupss, indeed, done."},{"author":"CohenCyril","date":"2021-10-25T08:54:33Z","comment":"@chdoc this is also a reasonnable addition to 1.13.0"}],"review_discussion":[{"author":"CohenCyril","file":"mathcomp/algebra/matrix.v","date":"2021-10-19T14:19:36Z","comment":"I think this should be replaced by `col1` and `colE` and put next to `row1` and `rowE`:\r\n```coq\r\nLemma col1 (R : ringType) [n : nat] (i : 'I_n) : col i (1 : R)%:M = delta_mx i 0.\r\nProof. by apply/colP => j; rewrite !mxE eqxx andbT. Qed.\r\n\r\nLemma colE [R : ringType] [m n : nat] (i : 'I_n) (A : 'M[R]_(m, n)) :\r\n  col i A = A *m delta_mx i 0.\r\nProof.\r\napply/colP=> j; rewrite !mxE (bigD1_ord i) //= mxE !eqxx mulr1.\r\nby rewrite big1 ?addr0 // => i'; rewrite mxE /= lift_eqF mulr0.\r\nQed.\r\n```\r\nThe theorem then follows from: `rewrite col1 -colE`."},{"author":"CohenCyril","file":"mathcomp/algebra/matrix.v","date":"2021-10-19T14:19:59Z","comment":"remove: this follows from `row1` and `rowE`."},{"author":"CohenCyril","file":"mathcomp/algebra/matrix.v","date":"2021-10-19T14:21:48Z","comment":"```suggestion\r\nProof. by rewrite !rsubmxEsub mulmx_colsub. Qed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/matrix.v","date":"2021-10-19T14:22:15Z","comment":"```suggestion\r\nProof. by rewrite !lsubmxEsub mulmx_colsub. Qed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/matrix.v","date":"2021-10-19T14:23:22Z","comment":"One should add `mul_usubmx` and `mul_dsubmx` for the sake of completeness."},{"author":"CohenCyril","file":"mathcomp/algebra/matrix.v","date":"2021-10-19T14:33:09Z","comment":"```suggestion\r\nelim: k=> [|k IHk]; first by rewrite !expr0 -scalar_mx_block.\r\nrewrite !exprS IHk [LHS](mulmx_block A _ _ _ (A ^+ k)).\r\nby rewrite !mulmx0 !mul0mx !add0r !addr0.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/matrix.v","date":"2021-10-19T15:05:23Z","comment":"Cut and generalize:\r\n```suggestion\r\nLemma block_diag_mx_unit (R : comUnitRingType) n1 n2 \r\n      (Aul : 'M[R]_n1) (Adr : 'M[R]_n2) :\r\n   (block_mx Aul 0 0 Adr \\in unitmx) = (Aul \\in unitmx) && (Adr \\in unitmx).\r\nProof. by rewrite !unitmxE det_ublock unitrM. Qed.\r\n\r\nLemma invmx_block_diag (R : comUnitRingType) n1 n2\r\n      (Aul : 'M[R]_n1) (Adr : 'M[R]_n2) :\r\n  block_mx Aul 0 0 Adr \\in unitmx ->\r\n  invmx (block_mx Aul 0 0 Adr) = block_mx (invmx Aul) 0 0 (invmx Adr).\r\nProof.\r\nmove=> /[dup] Aunit; rewrite block_diag_mx_unit => /andP[Aul_unit Adr_unit].\r\nrewrite -[LHS]mul1mx; apply: (canLR (mulmxK _)) => //.\r\nrewrite [RHS](mulmx_block (invmx Aul)) !(mulmx0, mul0mx, add0r, addr0).\r\nby rewrite !mulVmx// -?scalar_mx_block.\r\nQed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/mxpoly.v","date":"2021-10-19T15:08:10Z","comment":"```suggestion\r\nProof. by apply/matrixP => k l; rewrite !mxE (inj_eq lift_inj). Qed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/mxpoly.v","date":"2021-10-19T15:11:11Z","comment":"```suggestion\r\nrewrite /char_poly_mx map_block_mx/= !map_mx0.\r\nby rewrite scalar_mx_block opp_block_mx add_block_mx !subr0.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/poly.v","date":"2021-10-19T15:14:46Z","comment":"```suggestion\r\nProof. by move=> /eqP lp1; apply/lreg_lead; rewrite lp1; apply/lreg1. Qed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/poly.v","date":"2021-10-19T15:14:56Z","comment":"```suggestion\r\nProof. by move=> /eqP lp1; apply/rreg_lead; rewrite lp1; apply/rreg1. Qed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/polydiv.v","date":"2021-10-19T15:19:12Z","comment":"Generalize, shorten and rename.\r\n```suggestion\r\nLemma coprimep_XsubC2 (R : idomainType) (a b : R) : b - a != 0 ->\r\n  coprimep ('X - a%:P) ('X - b%:P).\r\nProof. by move=> bBa_neq0; rewrite coprimep_XsubC rootE hornerXsubC. Qed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/ssralg.v","date":"2021-10-19T15:20:14Z","comment":"```suggestion\r\nProof. by move=> rab c c' eq_bc; apply/rab; rewrite -!mulrA eq_bc. Qed.\r\n```"},{"author":"CohenCyril","file":"mathcomp/algebra/ssralg.v","date":"2021-10-19T15:20:20Z","comment":"```suggestion\r\nProof. by move=> rab c c' eq_ca; apply/rab; rewrite !mulrA eq_ca. Qed.\r\n```"}],"tags":[],"commits":[{"author":"proux01","committer":"CohenCyril","hash":"e1daa3fa997ee2f9963cb826052abdd91e2a4679","message":"Lemmas about matrix and poly from CoqEAL's ssrcomplements\n\nCo-authored-by: Maxime Dénès <mail@maximedenes.fr>\nCo-authored-by: Anders Mörtberg <mortberg@chalmers.se>\nCo-authored-by: Cyril Cohen <cohen@crans.org>","date":"2021-10-25T08:56:02Z"}]}