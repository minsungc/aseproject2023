{"author":"maximedenes","number":428,"diff_summary":[{"file":"etc/buildlibgraph","status":"A","additions":185,"deletions":2},{"file":"mathcomp/Makefile.common","status":"A","additions":185,"deletions":2}],"state":"merged","open_date":"2019-11-15T18:30:41Z","update_date":"2019-11-27T11:48:24Z","discussion":[{"author":"gares","date":"2019-11-25T14:27:44Z","comment":"Pending PR: https://github.com/maximedenes/math-comp/pull/2"},{"author":"maximedenes","date":"2019-11-25T15:22:07Z","comment":"I'll rebase to make the history simpler."},{"author":"maximedenes","date":"2019-11-25T15:23:40Z","comment":"done"},{"author":"CohenCyril","date":"2019-11-25T17:05:56Z","comment":"@ybertot can you review this PR since you are going to use it?"},{"author":"CohenCyril","date":"2019-11-25T17:07:28Z","comment":"PS: I guess the only review that we need would be a successful generation of the doc..."},{"author":"gares","date":"2019-11-25T17:35:08Z","comment":"Yves told me he did try locally.\r\nAt some point we should decide to run this in CI, or at least some parts of it, so that it down not bitrot."},{"author":"ybertot","date":"2019-11-26T07:17:00Z","comment":"I did the review, checked it works with several versions of Coq (8.9, 8.10, and master), and proposed corrections to @mdenes, integrated above.  I am now checking the aspect of the produced documentation.\r\n\r\nI vote against a CI test for the makefile entry to produce the documentation, because it will duplicate math-comp compilation and still not provide the actual verification that the produced files are correct."},{"author":"CohenCyril","date":"2019-11-26T13:39:38Z","comment":"@ybertot did you check the end result?"},{"author":"CohenCyril","date":"2019-11-26T13:40:02Z","comment":"(PS: if so, please approve the PR.)"},{"author":"ybertot","date":"2019-11-26T14:11:14Z","comment":"There is some strange results with new \"active\" links for some symbols which actually do not point correctly where they should.  I try to understand where they come from (our own stuff or coqdoc)."},{"author":"CohenCyril","date":"2019-11-27T11:50:08Z","comment":"@ybertot great! For further reference, here is the issue you posted https://github.com/coq/coq/issues/11194"},{"author":"pi8027","date":"2019-11-29T03:48:27Z","comment":"`make clean` fails if the doc has not been generated.\r\n```\r\n$ make clean\r\nCLEAN\r\nCLEAN *.aux *.timing\r\nCLEAN\r\nCLEAN *.aux *.timing\r\nrm -r _build_doc/\r\nrm: cannot remove '_build_doc/': No such file or directory\r\nmake: *** [Makefile.common:149: doc-clean] Error 1\r\n```"}],"review_discussion":[],"tags":[],"commits":[{"hash":"81802638190ade2b989f34eb7afb92a1413f59c6","message":"Add Makefile target to build the doc","date":"2019-11-25T15:23:11Z"},{"hash":"c08f721483b7d6e8da64f8f475ce68bbaff5b05c","message":"Add missing dependencies\n\nSpotted by Yves.","date":"2019-11-25T15:23:14Z"},{"author":"ybertot","hash":"054024e3b03eeb2f4ce93a904d68bcc4f216d38b","message":"things that are needed to make 'make doc' work","date":"2019-11-25T15:23:14Z"},{"author":"ybertot","hash":"467e24a7c00c8743c209a06ef152c14b2ea72136","message":"dependency file will change name after coq-8.10","date":"2019-11-25T15:23:14Z"},{"author":"ybertot","hash":"85b9ab28d11800a7a690267dde7b44eba14505a2","message":"adds a comment so that dead code can be remove when it is no longer used","date":"2019-11-25T15:23:14Z"},{"author":"ybertot","hash":"6be8dddd806c3515467526ea0e964ca4fee188ad","message":"Have to change directory before checking for the dependency file","date":"2019-11-25T15:23:14Z"}]}