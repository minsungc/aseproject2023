{"author":"proux01","number":986,"diff_summary":[{"file":".github/workflows/nix-action-coq-8.13.yml","status":"M","additions":393,"deletions":136},{"file":".github/workflows/nix-action-coq-8.14.yml","status":"M","additions":393,"deletions":136},{"file":".github/workflows/nix-action-coq-8.16.yml","status":"M","additions":393,"deletions":136},{"file":".github/workflows/nix-action-coq-8.17.yml","status":"M","additions":393,"deletions":136},{"file":".github/workflows/nix-action-coq-master.yml","status":"M","additions":393,"deletions":136},{"file":".nix/config.nix","status":"M","additions":393,"deletions":136},{"file":".nix/coq-nix-toolbox.nix","status":"M","additions":393,"deletions":136},{"file":"CHANGELOG_UNRELEASED.md","status":"M","additions":393,"deletions":136},{"file":"mathcomp/algebra/ssrnum.v","status":"M","additions":393,"deletions":136}],"state":"open","open_date":"2023-03-28T15:38:03Z","update_date":"2023-04-05T11:36:29Z","discussion":[{"author":"thery","date":"2023-03-28T15:58:14Z","comment":"Should we also generalize ler_psqrt?\r\n````coq\r\nLemma ler_psqrt : {in @Num.nneg R &, {mono sqrt : a b / a <= b}}.\r\nProof.\r\napply: le_mono_in => x y x_gt0 y_gt0.\r\nrewrite !lt_neqAle => /andP[neq_xy le_xy].\r\nby rewrite ler_wsqrtr // eqr_sqrt // neq_xy.\r\nQed. \r\n\r\nLemma ler_sqrt a b : 0 <= b -> (sqrt a <= sqrt b) = (a <= b).\r\nProof.\r\nmove=> b_ge0; have [a_le0|a_gt0] := ler0P a; last first.\r\n  by rewrite ler_psqrt // nnegrE ltW.\r\nby rewrite ler0_sqrtr // sqrtr_ge0 (le_trans a_le0).\r\nQed.\r\n````"},{"author":"pi8027","date":"2023-03-28T16:33:29Z","comment":"Do we have apery (which uses this lemma) in CI? I couldn't find it."},{"author":"proux01","date":"2023-03-28T16:43:53Z","comment":"No, there seems to be no Nix derivation for apery. Should I add one based on the OPAM package (is it up to date ?)."},{"author":"pi8027","date":"2023-03-28T16:51:43Z","comment":"@proux01 Yes please."},{"author":"proux01","date":"2023-04-05T11:36:29Z","comment":"@pi8027 I added algebra-tactics and apery in the CI and apery is indeed the only thing to break. Would you welcome an overlay that make apery depend on MC >= 1.17 or do you need backward compatibility?"}],"review_discussion":[],"tags":[{"tag":"TODO: HB port","description":""}],"commits":[{"author":"proux01","committer":"proux01","hash":"a377b2b9eb94c1ae6137702148e938853d1f378e","message":"Generalize ler_sqrt\n\nCo-authored-by: thery <Laurent.Thery@inria.fr>","date":"2023-04-04T15:00:29Z"},{"author":"proux01","committer":"proux01","hash":"1def22e719646579bed742185ba0ffb65f2e345b","message":"[CI] Add algebra-tactics and apery","date":"2023-04-04T15:01:54Z"}]}