{"author":"erikmd","number":373,"diff_summary":[{"file":".gitlab-ci.yml","status":"M","additions":38,"deletions":13}],"state":"merged","open_date":"2019-07-30T19:48:51Z","update_date":"2019-08-02T12:10:08Z","discussion":[{"author":"erikmd","date":"2019-07-30T20:00:19Z","comment":"FYI I also added a section `Related links` in the docker-coq wiki:\r\nhttps://github.com/coq-community/docker-coq/wiki/CI-setup#related-links\r\n(as the availability of the [`mathcomp`](https://hub.docker.com/u/mathcomp/) specific images was not described beforehand in docker-coq)\r\n\r\nCc @Zimmi48 @anton-trunov @palmskog @ejgallego"},{"author":"erikmd","date":"2019-08-02T09:41:40Z","comment":"@CohenCyril friendly ping"},{"author":"erikmd","date":"2019-08-02T13:40:17Z","comment":"FYI @CohenCyril I've just configured a so-called *scheduled pipeline* here:\r\nhttps://gitlab.com/math-comp/math-comp/pipeline_schedules (every night at ~03:15 Paris time)\r\nand I've successfully tested it: its first run triggerred the following pipeline with the 2 wished jobs:\r\nhttps://gitlab.com/math-comp/math-comp/pipelines/74413621\r\n\r\nAs a result, even if no math-comp PR is merged for a while, `mathcomp/mathcomp-dev:coq-dev` will stay in sync with `coqorg/coq:dev` (itself rebuilt every night at ~00:15 Paris time)."},{"author":"CohenCyril","date":"2019-08-02T15:48:50Z","comment":"> FYI @CohenCyril I've just configured a so-called _scheduled pipeline_ here:\r\n> https://gitlab.com/math-comp/math-comp/pipeline_schedules (every night at ~03:15 Paris time)\r\n\r\n~~https://gitlab.com/math-comp/math-comp/pipeline_schedules~~\r\n~~Error 404 page not found...~~\r\nNever mind, I logged in and problem solved :laughing: "},{"author":"CohenCyril","date":"2019-08-02T15:50:33Z","comment":"Thanks again for your work on CI and docker @erikmd "}],"review_discussion":[],"tags":[],"commits":[{"author":"erikmd","committer":"erikmd","hash":"1624bfe8406017cff82904ebab3d06a9dec17153","message":"style: fix indentation detail","date":"2019-07-29T21:34:16Z"},{"author":"erikmd","committer":"erikmd","hash":"b8eadb8603b83c053a313b39c2a8f268385d8942","message":"refactor: deploy jobs need not clone the repo\n\n* Set \"GIT_STRATEGY: none\" accordingly","date":"2019-07-30T10:54:58Z"},{"author":"erikmd","committer":"erikmd","hash":"d5ac333d1ee1b4f3a8d38dc0238c661dcc4a89f7","message":"[ci] Add jobs {ci-fourcolor-8.9, ci-odd-order-8.9}\n\n* Add {fourcolor, odd-order} test builds with latest Coq release (8.9)\n\n* As a result, the math-comp CI config w.r.t. {fourcolor, odd-order}\n  will be similar to that of the upstream repos:\n  - https://github.com/math-comp/fourcolor/blob/master/.travis.yml\n  - https://github.com/math-comp/odd-order/pull/16","date":"2019-07-30T10:55:06Z"},{"author":"erikmd","committer":"erikmd","hash":"5bccaf10977a1cb86e00fc2e986bfbe1ac86ad1b","message":"[ci] Adapt the GitLab CI config to allow scheduled builds for coq-dev\n\n* Normal builds (branches & GitHub PRs) are not impacted\n\n* Triggering a scheduled pipeline will only run {coq-dev, mathcomp-dev:coq-dev}\n  to build and deploy the corresponding image to mathcomp/mathcomp-dev:coq-dev.\n\n* href: https://docs.gitlab.com/ce/user/project/pipelines/schedules.html","date":"2019-07-30T14:56:45Z"}]}