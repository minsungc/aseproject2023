{"author":"hivert","number":406,"diff_summary":[{"file":"CHANGELOG_UNRELEASED.md","status":"M","additions":289,"deletions":18},{"file":"mathcomp/algebra/poly.v","status":"M","additions":289,"deletions":18},{"file":"mathcomp/algebra/ssralg.v","status":"M","additions":289,"deletions":18},{"file":"mathcomp/field/fieldext.v","status":"M","additions":289,"deletions":18},{"file":"mathcomp/field/galois.v","status":"M","additions":289,"deletions":18}],"state":"merged","open_date":"2019-11-01T15:25:28Z","update_date":"2019-11-06T14:53:41Z","discussion":[{"author":"hivert","date":"2019-11-01T15:25:54Z","comment":"This pull request is currently not ready to merge : I'd like to add commutative unitary algebras too. I'm currently having some difficulties with the diamond inheritance, I'll commit the change when I'm done solving those problems. If you prefer, I can add them in another PR."},{"author":"hivert","date":"2019-11-01T16:27:45Z","comment":"Actually, even with ComAlgType I've some problems with where pointed out by travisCI..."},{"author":"pi8027","date":"2019-11-01T20:03:48Z","comment":"@hivert Hello. I think you should make `fieldExtType` inheriting `comAlgType` (and `comUnitAlgType`). I can write a patch if you need."},{"author":"hivert","date":"2019-11-02T20:39:09Z","comment":"@pi8027 Thanks for the review. As I said, the PR is not yet ready for integration. I was trying to find and resolve all these problems... Anyway, a big thanks for the help ! I think I'm starting to understand the inheritance mechanism !"},{"author":"hivert","date":"2019-11-03T00:39:06Z","comment":"It should be ok now. sorry for the mess. I still need to update the changelog (will do tomorrow)."},{"author":"hivert","date":"2019-11-03T09:28:52Z","comment":"The PR is now ready for review. "},{"author":"pi8027","date":"2019-11-05T13:37:43Z","comment":"All the issues I discovered have been addressed. cc: @CohenCyril @amahboubi "},{"author":"hivert","date":"2019-11-05T17:37:00Z","comment":"Excellent ! Thanks for the help understanding the hierarchy !"}],"review_discussion":[{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-02T19:22:52Z","comment":"These `comAlgType` and `comUnitAlgType` should be exported from the `Exports` module as both coercions and canonical projections."},{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-02T19:26:12Z","comment":"The join of `comUnitAlgType` and `(unit)RingType` should be `comUnitAlgType`. The above two lines are incorrect."},{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-02T19:26:45Z","comment":"The above two lines are correct, but should be exported from the `Exports` module."},{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-02T19:33:22Z","comment":"The join of `unitAlgType` and `com(Unit)RingType` should now be `comUnitAlgType`. So the above two lines should be removed."},{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-02T19:41:28Z","comment":"The above two lines are incorrect."},{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-02T19:41:46Z","comment":"The above two lines should be removed. `(lalg|lmod)_com(Unit)RingType` should also be removed."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-02T20:10:34Z","comment":"`Coercion unitRingType : ...` and `Canonical unitRingType` are missing here."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-02T20:11:17Z","comment":"`Canonical unitAlgType` is missing."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-03T11:07:10Z","comment":"`comUnitAlgType` should be `comAlgType` here."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-03T11:07:58Z","comment":"Conversely, `comAlgType` should be `comUnitAlgType` here."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-03T19:40:15Z","comment":"`base3` is needed here because `comUnitAlgType` directly inherits `unitAlgType` (without any intermediate structure). So you may remove this comment."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-03T20:02:34Z","comment":"In the current implementation, the regular `comUnitAlgType` of `R : comUnitRingType` will not be inferred automatically. This probably should be added just after the declaration of `regular_unitAlgType`."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-03T20:57:45Z","comment":"The actual implementation of `[comAlgType R of V]` (with a small fix I suggested below) merges canonical `comAlgType R` and `unitRingType` on `V`."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-03T21:02:13Z","comment":"This `pack` is broken. `Algebra.class` should be replaced with `ComAlgebra.class`."},{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-03T21:20:35Z","comment":"Conversely, `base1`, `base2`, `base3`, and `base5` are not necessary here because there are intermediate structures between `fieldExtType` and `comRingType`, `comUnitRingType`, `idomainType`, and `comAlgType`. (I think there is no problem to have these redundant coercions and I'm not suggesting to remove them. I'm just trying to provide some information to understand packed classes.)"},{"author":"hivert","file":"mathcomp/algebra/ssralg.v","date":"2019-11-04T10:54:34Z","comment":"Good catch ! I mixed up the doc..."},{"author":"hivert","file":"mathcomp/algebra/ssralg.v","date":"2019-11-04T10:55:08Z","comment":"Thanks ! This means I'm starting to get the thing at last !"},{"author":"hivert","file":"mathcomp/algebra/ssralg.v","date":"2019-11-04T10:59:52Z","comment":"Good catch again"},{"author":"hivert","file":"mathcomp/field/fieldext.v","date":"2019-11-04T11:02:26Z","comment":"Thanks for the explanation !"},{"author":"hivert","file":"mathcomp/field/fieldext.v","date":"2019-11-04T11:17:35Z","comment":"However, I think that the coercion `base6` should be exported to allow for inheritance of `xclass`. Is that right ?"},{"author":"pi8027","file":"mathcomp/field/fieldext.v","date":"2019-11-04T11:57:24Z","comment":"@hivert Yes. At least `base`, `base4`, ~`base5`,~ and `base6` should be exported here."},{"author":"hivert","file":"mathcomp/field/fieldext.v","date":"2019-11-04T12:41:10Z","comment":"Good ! That was my guess ! Uploading a fix..."},{"author":"pi8027","file":"mathcomp/algebra/ssralg.v","date":"2019-11-04T12:58:17Z","comment":"This line has not been fixed yet. Please replace two occurrences of `comAlgType` with `comUnitAlgType`."},{"author":"hivert","file":"mathcomp/algebra/ssralg.v","date":"2019-11-04T14:50:54Z","comment":"Sorry ! Going too fast..."}],"tags":[],"commits":[{"author":"hivert","committer":"hivert","hash":"8150209d2aaa0034b3dca9d82be1aeb11a12b5ea","message":"Interface for commutative and commutative-unitary algebras\nInitial properties of polynomials in R-algebras","date":"2019-11-03T08:26:12Z"},{"author":"hivert","committer":"hivert","hash":"6ba0e77cd7f8d68647790fe2b704f35ae76ad1f8","message":"Fixed inheritance of fieldExt / fieldOver / splitting field","date":"2019-11-04T12:42:59Z"},{"author":"hivert","committer":"hivert","hash":"d20f0750b11fc1b5ba83d9b40c04df6e9e30e69a","message":"Fixed the documentation","date":"2019-11-04T14:50:27Z"}]}