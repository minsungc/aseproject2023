{"author":"eupp","number":875,"diff_summary":[{"file":"CHANGELOG_UNRELEASED.md","status":"M","additions":12,"deletions":0},{"file":"mathcomp/ssreflect/seq.v","status":"M","additions":12,"deletions":0}],"state":"merged","open_date":"2022-04-18T14:54:25Z","update_date":"2022-04-22T15:07:09Z","discussion":[{"author":"eupp","date":"2022-04-22T10:44:25Z","comment":"> Could you rebase? Then this is good to go.\r\n\r\nDone!"}],"review_discussion":[{"author":"pi8027","file":"mathcomp/ssreflect/seq.v","date":"2022-04-19T13:52:10Z","comment":"I would suggest stating this using `reflect` since its converse also holds:\r\n```suggestion\r\nLemma mkseq_uniqP (f : nat -> T) n :\r\n  reflect {in iota 0 n &, injective f} (uniq (mkseq f n)).\r\nProof.\r\napply: (iffP idP); last by move/map_inj_in_uniq ->; apply: iota_uniq.\r\nmove=> /(uniqP (f 0)) Huniq i j; rewrite !mem_iota add0n !leq0n /= => Hi Hj fij.\r\nby apply: Huniq; rewrite ?size_mkseq // !nth_mkseq.\r\nQed.\r\n```"},{"author":"ggonthier","file":"mathcomp/ssreflect/seq.v","date":"2022-04-20T08:48:12Z","comment":"It would be better to use `gtn n` rather that `iota 0 n` as the injectivity domain, since this would avoid exposing users to the internals of `mkseq`. Perhaps\r\n```suggestion\r\n  reflect {in gtn n &, injective f} (uniq (mkseq f n)).\r\nProof.\r\napply: (equivP (uniqP (f 0))); rewrite size_mkseq.\r\nby split=> injf i j lti ltj; have:= injf i j lti ltj; rewrite !nth_mkseq.\r\n```"}],"tags":[],"commits":[{"author":"eupp","committer":"eupp","hash":"8471ae5aaf8e153716ae9eaeca4640b11670309b","message":"add mkseqS, mkseq_in_uniq","date":"2022-04-22T10:43:13Z"},{"author":"eupp","committer":"eupp","hash":"f24f0621364f8288d70fcefc6d026478c771a55a","message":"update changelog","date":"2022-04-22T10:43:13Z"},{"author":"eupp","committer":"eupp","hash":"37229d406a32661adaec75172e7dba34f8695ea3","message":"Apply suggestions from code review\n\nCo-authored-by: Kazuhiko Sakaguchi <pi8027@gmail.com>","date":"2022-04-22T10:43:13Z"},{"author":"eupp","committer":"eupp","hash":"80aa4c2b415496f453647b9a9df3b7114986c422","message":"Apply suggestions from code review\n\nCo-authored-by: Georges Gonthier <georges.gonthier@inria.fr>","date":"2022-04-22T10:43:13Z"},{"author":"eupp","committer":"eupp","hash":"dbcdcd035900e6a5c783fd0f968ae4790ff61f68","message":"update changelog","date":"2022-04-22T10:43:13Z"},{"author":"eupp","committer":"eupp","hash":"db892778a23a730e19b6dc0845509700d107649f","message":"fix changelog","date":"2022-04-22T10:49:17Z"}]}